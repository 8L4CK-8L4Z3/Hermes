erDiagram
  USERS {
    string id PK
    string username
    string email
    string password_hash
    string photo
    string bio
    boolean isAdmin
    boolean isMod
    date lastLogin
    boolean isVerified
    object preferences
    object stats
  }
  TRIPS {
    string id PK
    string user_id FK
    string title
    date start_date
    date end_date
    string[] destinations
    string status
    boolean isPublic
    object budget
    array activities
  }
  DESTINATIONS {
    string id PK
    string name
    string description
    string location
    string photo
  }
  PLACES {
    string id PK
    string destination_id FK
    string type
    string name
    string description
    string photo
    float average_rating
    string price_range
    object opening_hours
    object contact
    object location
    string[] tags
    string[] amenities
  }
  REVIEWS {
    string id PK
    string user_id FK
    string place_id FK
    int rating
    string comment
    array photos
    object helpful_votes
    date visit_date
    object categories
  }
  FOLLOWS {
    string user_id FK
    string follower_id FK
  }
  POSTS {
    string id PK
    string user_id FK
    string content
    string media
    string type
    string visibility
    string[] tags
    object location
    date created_at
    date updated_at
  }
  COMMENTS {
    string id PK
    string post_id FK
    string user_id FK
    string content
    date created_at
    string parent_comment_id
  }
  LIKES {
    string id PK
    string user_id FK
    string target_type
    string target_id
    date created_at
  }
  NOTIFICATIONS {
    string id PK
    string user_id FK
    string type
    string data
    boolean is_read
    date created_at
  }
  MODERATIONLOGS {
    string id PK
    string moderator_id FK
    string action
    string target_type
    string target_id
    string reason
    string status
    object resolution
    date created_at
    date updated_at
  }
  ANALYTICS {
    string id PK
    date date
    object metrics
    array popularDestinations
    array popularPlaces
    date created_at
    date updated_at
  }

  USERS ||--o{ TRIPS : "creates"
  USERS ||--o{ REVIEWS : "writes"
  USERS ||--o{ POSTS : "creates"
  USERS ||--o{ COMMENTS : "writes"
  USERS ||--o{ FOLLOWS : "follows"
  USERS ||--o{ LIKES : "likes"
  USERS ||--o{ NOTIFICATIONS : "receives"
  USERS ||--o{ MODERATIONLOGS : "moderates"
  TRIPS ||--o{ DESTINATIONS : "includes"
  DESTINATIONS ||--o{ PLACES : "has"
  PLACES ||--o{ REVIEWS : "receives"
  POSTS ||--o{ COMMENTS : "has"
  POSTS ||--o{ LIKES : "receives"
  COMMENTS ||--o{ LIKES : "receives"
  REVIEWS ||--o{ LIKES : "receives"
  COMMENTS ||--o{ COMMENTS : "replies to"
  ANALYTICS ||--o{ DESTINATIONS : "tracks"
  ANALYTICS ||--o{ PLACES : "tracks"
